### umi

Summer Pokemon！意料之外的惊喜啊！

~~申特么岛可梦大乱斗，完全不一样吧！~~

~~诡异计数，对不住了跳！~~我回来啦！

一条路径上胜负已知，每次都是最小对决。

所以递增考虑，胜则 $Liko_i>Roy_i$么，负则 $Liko_i<Roy_i$。

先草一点，$f(i,x,y)$ 表示到 $i$，Liko 用到 $x$，Roy 用到 $y$。

然后极度草率，状态数 $\mathcal{O}(n^3)$，复杂度 $\mathcal{O}(n^5)$，且正确性不好说，容易重。

感觉想复杂了。

树的形态是必不可少的一部分，所以这个东西不能简单的找规律。

路径的常见操作是 $u \to lca$ 和 $lca\to v$ 操作合并，那么像是倍增的模样。

放开这部分不管，其实这 $2n$ 个数的相对顺序是几乎可以知道的。

$f(i,x)$ 考虑前 $i$ 小用到了 $x$ 的方案数。

发现顺序不确定。那么顺序数量乘上 $m\choose 2n$。

去他的 DDP？

冷静一波，我们分讨。

连续俩胜或俩败，不能确定一对。

连续仨，不能确定俩对。

连续肆，不能确定仨对。

……

重点在于连续。

倍增往上，连续 胜/负 轮数。

我谢谢您……

~~但是 Captain 真的很强！~~

这个连续轮数似乎不是很好做。

也许可以化一下，总数量减去断掉的。

自己和父亲不同，是一个断掉的地方。

然后一路到 $lca$ ，，跟 $lca$ 的父亲的断开减掉。

~~其实这个时候果断 LCT 会更好写？~~

然后两边上去如果断了就做掉。

### dream

www.?.com

$k=0$ 是最短路计数，可以弄出 DAG 来搞一搞。

$k=1$ 大概是枚举偏航点重算，可能反向建图。

然后重边自环很气人，要做处理。

先不写，等会儿大概开他。

$k=0$ 很好写，现在应该是 OK 了。

$k=1$ 考虑玩一下再看看。发现比较麻烦。

要把路径剖出来，然后起点终点还比较特殊。

### nine

难蚌。

### bar

也许能做？

k 短路？为什么感觉很水？

数据小到不可思议，乱打了一个暴力能过大样例……。

拍了半天呢，没有 TLE，我谔谔。